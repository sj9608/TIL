# HTTP λ©”μ„λ“ ν™μ©



## ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅



### λ°μ΄ν„° μ „λ‹¬ λ°©μ‹μ€ ν¬κ² 2κ°€μ§€

* **μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅**
  * GET
  * μ£Όλ΅ μ •λ ¬ ν•„ν„° , κ²€μƒ‰μ–΄
* **λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅**
  * POST, PUT, PATCH
  * νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ¦¬μ†μ¤ λ“±λ΅, λ¦¬μ†μ¤ λ³€κ²½



### ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅ν•λ” 4κ°€μ§€ μƒν™©



#### μ •μ  λ°μ΄ν„° μ΅°ν

μ •μ  λ°μ΄ν„°μ— λ€ν• λ‹¨μ μ΅°ν μ”μ²­ (μΏΌλ¦¬ νλΌλ―Έν„° λ―Έμ‚¬μ©)

```HTTP
GET /static/star.jpg HTTP/1.1
Host: localhost:8080
```

/static/star.jpg

``` HTTP
HTTP/1.1 200 OK
Content-Type: image/jpg
Content-Length: 34012

lkj123kljfalsdkfnlkrnflkn924lsdnfkalsdfk492lfasndflkafnsjk;sdfjasdklfq;4924tlaklsdkf;5tknalskdfjlakj4t62;l6k;a4alk45la235;2a34kla2j34624096alsdkjflk
```

* μ΄λ―Έμ§€, μ •μ  ν…μ¤νΈ λ¬Έμ„
* μ΅°νλ” GET μ‚¬μ©
* μ •μ  λ°μ΄ν„°λ” μΌλ°μ μΌλ΅ μΏΌλ¦¬νλΌλ―Έν„° μ—†μ΄ λ¦¬μ†μ¤ κ²½λ΅λ΅ λ‹¨μν•κ² μ΅°ν κ°€λ¥



#### λ™μ  λ°μ΄ν„° μ΅°ν

**μΏΌλ¦¬ νλΌλ―Έν„° μ‚¬μ©**

```HTTP
GET /search?q=hello&hl=ko HTTP/1.1
Host: www.google.com
```

* μ£Όλ΅ κ²€μƒ‰, κ²μ‹ν λ©λ΅μ—μ„ μ •λ ¬ or ν•„ν„° 
* μ΅°ν μ΅°κ±΄μ„ μ¤„μ—¬μ£Όλ” ν•„ν„°, μ΅°ν κ²°κ³Όλ¥Ό μ •λ ¬ν•λ” μ •λ ¬ μ΅°κ±΄μ— μ£Όλ΅ μ‚¬μ©
* μ΅°νλ” GET μ‚¬μ©
* GETμ€ μΏΌλ¦¬ νλΌλ―Έν„° μ‚¬μ©ν•΄μ„ λ°μ΄ν„°λ¥Ό μ „λ‹¬



#### HTML form μ„ ν†µν• λ°μ΄ν„° μ „μ†΅

**POST μ „μ†΅ - μ €μ¥**

```HTML
<form action="/save" method="post">
  <input type="text" name="username" />
  <input type="text" name="age" />
  <button type="submit">μ „μ†΅</button>
</form>
```

**submit μ΄ λλ” μκ°„** μ›Ή λΈλΌμ°μ €κ°€ λ‹¤μκ³Ό κ°™μ΄ **HTTP λ©”μ‹μ§€λ¥Ό μƒμ„±**ν•΄μ¤

```HTTP
POST /save HTTP/1.1
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded

username=kim&age=20
```

μΏΌλ¦¬ νλΌλ―Έν„°μ™€ λΉ„μ·ν•κ² key, value μ¤νƒ€μΌλ΅ λ°μ΄ν„°λ¥Ό λ§λ“¤κ³  **HTTP bodyλ¥Ό ν†µν•΄ μ„λ²„μ— μ „λ‹¬**



**GET μ „μ†΅ - μ΅°ν**

```html
<form action="/save" method="get">
  <input type="text" name="username" />
  <input type="text" name="age" />
  <button type="submit">μ „μ†΅</button>
</form>
```

μ„μ POSTμ™€ λΉ„μ·ν•κ² **submit μ΄ λλ” μκ°„** μ›ΉλΈλΌμ°μ €κ°€ λ‹¤μκ³Ό κ°™μ΄ **HTTP λ©”μ‹μ§€λ¥Ό μƒμ„±**ν•΄μ¤

```HTTP
GET /members?username=kim&age=20 HTTP/1.1
Host: localhost:8080
```



**multipart/form-data**

<form action="/save" method="post" enctype="multipart/form-data">
  <div>
    <label for="username">username: </label>
  	<input type="text" name="username" />  
  </div>
  <div>
    <label for="age">age: </label>
    <input type="text" name="age" />
  </div>
  <div>
    <label for="file">file: </label>
    <input type="file" name="file1" />
  </div>
  <button type="submit">μ „μ†΅</button>
</form>


```HTML
<form action="/save" method="post" enctype="multipart/form-data">
  <input type="text" name="username" />  
  <input type="text" name="age" />
  <input type="file" name="file1" />
  <button type="submit">μ „μ†΅</button>
</form>
```



<img src="https://user-images.githubusercontent.com/52594760/138897018-0124f81a-d640-4b1e-8588-5501d821e3bd.png" alt="image" style="zoom:80%;" />

μ»¨ν…νΈ νƒ€μ… ; λ©€ν‹°ννΈ/νΌ λ°μ΄ν„° κ·Έλ¦¬κ³  κµ¬λ¶„μ„ μΈ λ°”μ΄λ”λ¦¬( μ›Ή λΈλΌμ°μ €μ—μ„ μλ™μ μΌλ΅ μƒμ„± )

μ„ μ²λΌ username, age, file λ“±μ— λ€ν•΄ κµ¬λ¶„μ„ λ‚λ„κ³  μ—¬λ¬κ°μ μ»¨ν…νΈμ— λ€ν• μ „μ†΅μ„ ν•  μ μλ‹¤.



**μ •λ¦¬**

* HTML Form submitμ‹ POST μ „μ†΅
  * μ) νμ›κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
* Content-Type: application/x-www-form-urlencoded μ‚¬μ©
  * form λ‚΄μ©μ„ λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄μ„ μ „μ†΅ (key=value, μΏΌλ¦¬ νλΌλ―Έν„° ν•μ‹)
  * μ „μ†΅ λ°μ΄ν„°λ¥Ό url encoding μ²λ¦¬
    * μ) abcκΉ€ -> abc%EA%B9%80 (UTF-8)
* HTML formμ€ GET μ „μ†΅λ„ κ°€λ¥
* Content-Type: multipart/form-data
  * νμΌ μ—…λ΅λ“ κ°™μ€ λ°”μ΄λ„λ¦¬ λ°μ΄ν„° μ „μ†΅μ‹ μ‚¬μ©
  * λ‹¤λ¥Έ μΆ…λ¥μ μ—¬λ¬ νμΌκ³Ό νΌμ λ‚΄μ© ν•¨κ» μ „μ†΅ κ°€λ¥ (κ·Έλμ„ μ΄λ¦„μ΄ multipart μ΄λ‹¤.)
* **μ¤‘μ”! π’¥ HTML form μ „μ†΅μ€ ** <span style="color:red">GET, POST λ§ μ§€μ›</span>





#### HTTP APIλ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅

λ‹¨μ HTTP API λ¥Ό ν†µν•΄ λ©”μ‹μ§€ λ°”λ””λ¥Ό json ν•μ‹μΌλ΅ ν•κ³  μ»¨ν…νΈ νƒ€μ…μ„ `application/json` μΌλ΅ μ„¤μ •ν•΄μ„ POST λ©”μ„λ“λ΅ μ „μ†΅ν•΄ μ¤€λ‹¤.

```HTTP
POST /members HTTP/1.1
Content-Type: application/json

{
	"username": "young",
	"age": 20
}
```



**μ •λ¦¬**

* μ„λ²„ to μ„λ²„ (μ„λ²„λΌλ¦¬ ν†µμ‹ )
  * λ°±μ—”λ“ μ‹μ¤ν… ν†µμ‹  ν•  λ• μ‚¬μ© (μ„λ²„μ—λ” HTML κ°™μ€ λ¬Έλ²•μ„ μ“Έ μ μ—†μ)
* μ•± ν΄λΌμ΄μ–ΈνΈ
  * μ•„μ΄ν°, μ•λ“λ΅μ΄λ“ μ—μ„ μ‚¬μ© (μ„λ²„μ™€ λ§μ°¬κ°€μ§€ μ΄μ )
* μ›Ή ν΄λΌμ΄μ–ΈνΈ
  * HTML μ—μ„ form μ „μ†΅ λ€μ‹  μλ°” μ¤ν¬λ¦½νΈλ¥Ό ν†µν• ν†µμ‹ μ— μ‚¬μ© (Ajax) λΉ„λ™κΈ° js & xml μ”μ¦μ—” λ‹¤ jsonν•μ‹ μ”€
  * μ) React, Vue.js κ°™μ€ μ›Ή ν΄λΌμ΄μ–ΈνΈμ™€ API ν†µμ‹ 
* POST, PUT, PATCH: λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄ λ°μ΄ν„° μ „μ†΅
* GET: μ΅°ν, μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ°μ΄ν„° μ „λ‹¬
* Content-Type: application/jsonμ„ μ£Όλ΅ μ‚¬μ© (**μ‚¬μ‹¤μƒ ν‘μ¤€**)
  * TEXT, XML, JSON λ“±λ“± μμ





## HTTP API μ„¤κ³„ μμ‹

